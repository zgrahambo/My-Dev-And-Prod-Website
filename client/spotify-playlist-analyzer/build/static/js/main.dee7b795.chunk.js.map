{"version":3,"sources":["img/loading.gif","actions/types.js","spotify/Score.js","spotify/PersonalAwards.js","spotify/Collaborator.js","actions/spotifyActions.js","components/PlaylistPicker.js","components/CollabCard.js","components/CollabCardsFrame.js","reducers/playlistPickerReducer.js","reducers/collabCardReducer.js","reducers/index.js","store.js","PlaylistAnalyzerApp.js","serviceWorker.js","index.js"],"names":["module","exports","FETCH_PLAYLISTS_LOADING","FETCH_PLAYLISTS_SUCCESS","FETCH_PLAYLISTS_FAILURE","PLAYLIST_CHOSEN_TRACK_INFO_LOADING","FETCH_TRACKS_INFO_SUCCESS","FETCH_TRACKS_INFO_FAILURE","FETCH_COLLABORATOR_INFO_SUCCESS","FETCH_COLLABORATOR_INFO_FAILURE","FETCH_COLLABORATOR_AF_AWARDS_SUCCESS","FETCH_COLLABORATOR_AF_AWARDS_FAILURE","Score","scoreSet","Object","classCallCheck","this","undefined","duration","popularity","acousticness","danceability","energy","tempo","positivity","speechiness","loudness","instrumentalness","n","awards","icon","text","id","val","maxAmountOfAwards","PersonalAwards","awardList","arguments","length","slice","createClass","key","value","award","push","trackIdToCollabId","collabIdToCollabObj","Collaborator","trackIds","img","name","score","trackId","getCollaboratorData","token","promises","collaboratorID","fetch","method","headers","Authorization","Promise","all","then","res","forEach","data","json","collabData","setImage","images","url","setName","display_name","collectCollabNameAndImg","getCollabAwards","stringTrackIds","join","console","log","audioFeature","audioFeatures","audioFeaturesArray","currentCollaborator","increaseAcousticness","increaseDanceability","increaseEnergy","increaseInstrumentalness","increaseLoudness","increaseTempo","increasePositivity","valence","increaseSpeechiness","collectAllUsersAFScores","audio_features","collaborator","averages","getNumTracks","getAverages","averageAF","currentAward","average","addAward","chooseEachCollabsAwards","_callee","tracksLink","dispatch","hasNext","tracks","regenerator_default","a","wrap","_context","prev","next","concat","items","catch","err","type","payload","sent","abrupt","stop","PlaylistPicker","props","_this","possibleConstructorReturn","getPrototypeOf","call","fetchPlaylists","e","playlistInfo","choosePlaylist","_this2","_ret","menuItems","playlists","_loop","i","collaborative","react_default","createElement","Menu","Item","onClick","handleClick","as","v","extractCollabPlaylists","loadingSpinner","loading","Image","src","loading_gif","centered","playlistChosen","Grid","columns","Column","inverted","fluid","vertical","header","Component","connect","state","error","fetchPlaylistTracksInfo","href","currentCollaboratorId","collaborators","track","added_by","addTrackId","increasePopularity","increaseDuration","duration_ms","generateCollaboratorObjects","createCollabCards","CollabCard","awardsArray","Icon","size","Card","Segment","style","marginBottom","basic","width","height","circular","wrapped","Content","Header","Meta","numTracksAdded","Description","CollabCardsFrame","cards","collabInfoLoaded","collabAwardsLoaded","components_CollabCard","createCards","numCardsPerRow","keys","CardGroup","itemsPerRow","initialState","combineReducers","action","objectSpread","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","PlaylistAnalyzerApp","es","Container","textAlign","components_PlaylistPicker","components_CollabCardsFrame","Divider","Boolean","window","location","hostname","match","unregister","navigator","serviceWorker","ready","registration","result","hash","substr","split","reduce","item","parts","access_token","ReactDOM","render","src_PlaylistAnalyzerApp","document","getElementById","spotifyURI","replace","encodeURI"],"mappings":"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","file":"static/js/main.dee7b795.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,R0lGODlhHwAfAPUAAP///wAAAOjo6NLS0ry8vK6urqKiotzc3Li4uJqamuTk5NjY2KqqqqCgoLCwsMzMzPb29qioqNTU1Obm5jY2NiYmJlBQUMTExHBwcJKSklZWVvr6+mhoaEZGRsbGxvj4+EhISDIyMgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAHwAfAAAG/0CAcEgUDAgFA4BiwSQexKh0eEAkrldAZbvlOD5TqYKALWu5XIwnPFwwymY0GsRgAxrwuJwbCi8aAHlYZ3sVdwtRCm8JgVgODwoQAAIXGRpojQwKRGSDCRESYRsGHYZlBFR5AJt2a3kHQlZlERN2QxMRcAiTeaG2QxJ5RnAOv1EOcEdwUMZDD3BIcKzNq3BJcJLUABBwStrNBtjf3GUGBdLfCtadWMzUz6cDxN/IZQMCvdTBcAIAsli0jOHSJeSAqmlhNr0awo7RJ19TJORqdAXVEEVZyjyKtE3Bg3oZE2iK8oeiKkFZGiCaggelSTiA2LhxiZLBSjZjBL2siNBOFQ84LxHA+mYEiRJzBO7ZCQIAIfkEAAoAAQAsAAAAAB8AHwAABv9AgHBIFAwIBQPAUCAMBMSodHhAJK5XAPaKOEynCsIWqx0nCIrvcMEwZ90JxkINaMATZXfju9jf82YAIQxRCm14Ww4PChAAEAoPDlsAFRUgHkRiZAkREmoSEXiVlRgfQgeBaXRpo6MOQlZbERN0Qx4drRUcAAJmnrVDBrkVDwNjr8BDGxq5Z2MPyUQZuRgFY6rRABe5FgZjjdm8uRTh2d5b4NkQY0zX5QpjTc/lD2NOx+WSW0++2RJmUGJhmZVsQqgtCE6lqpXGjBchmt50+hQKEAEiht5gUcTIESR9GhlgE9IH0BiTkxrMmWIHDkose9SwcQlHDsOIk9ygiVbl5JgMLuV4HUmypMkTOkEAACH5BAAKAAIALAAAAAAfAB8AAAb/QIBwSBQMCAUDwFAgDATEqHR4QCSuVwD2ijhMpwrCFqsdJwiK73DBMGfdCcZCDWjAE2V347vY3/NmdXNECm14Ww4PChAAEAoPDltlDGlDYmQJERJqEhGHWARUgZVqaWZeAFZbERN0QxOeWwgAAmabrkMSZkZjDrhRkVtHYw+/RA9jSGOkxgpjSWOMxkIQY0rT0wbR2LQV3t4UBcvcF9/eFpdYxdgZ5hUYA73YGxruCbVjt78G7hXFqlhY/fLQwR0HIQdGuUrTz5eQdIc0cfIEwByGD0MKvcGSaFGjR8GyeAPhIUofQGNQSgrB4IsdOCqx7FHDBiYcOQshYjKDxliVDpRjunCjdSTJkiZP6AQBACH5BAAKAAMALAAAAAAfAB8AAAb/QIBwSBQMCAUDwFAgDATEqHR4QCSuVwD2ijhMpwrCFqsdJwiK73DBMGfdCcZCDWjAE2V347vY3/NmdXNECm14Ww4PChAAEAoPDltlDGlDYmQJERJqEhGHWARUgZVqaWZeAFZbERN0QxOeWwgAAmabrkMSZkZjDrhRkVtHYw+/RA9jSGOkxgpjSWOMxkIQY0rT0wbR2I3WBcvczltNxNzIW0693MFYT7bTumNQqlisv7BjswAHo64egFdQAbj0RtOXDQY6VAAUakihN1gSLaJ1IYOGChgXXqEUpQ9ASRlDYhT0xQ4cACJDhqDD5mRKjCAYuArjBmVKDP9+VRljMyMHDwcfuBlBooSCBQwJiqkJAgAh+QQACgAEACwAAAAAHwAfAAAG/0CAcEgUDAgFA8BQIAwExKh0eEAkrlcA9oo4TKcKwharHScIiu9wwTBn3QnGQg1owBNld+O72N/zZnVzRApteFsODwoQABAKDw5bZQxpQ2JkCRESahIRh1gEVIGVamlmXgBWWxETdEMTnlsIAAJmm65DEmZGYw64UZFbR2MPv0QPY0hjpMYKY0ljjMZCEGNK09MG0diN1gXL3M5bTcTcyFtOvdzBWE+207pjUKpYrL+wY7MAB4EerqZjUAG4lKVCBwMbvnT6dCXUkEIFK0jUkOECFEeQJF2hFKUPAIkgQwIaI+hLiJAoR27Zo4YBCJQgVW4cpMYDBpgVZKL59cEBhw+U+QROQ4bBAoUlTZ7QCQIAIfkEAAoABQAsAAAAAB8AHwAABv9AgHBIFAwIBQPAUCAMBMSodHhAJK5XAPaKOEynCsIWqx0nCIrvcMEwZ90JxkINaMATZXfju9jf82Z1c0QKbXhbDg8KEAAQCg8OW2UMaUNiZAkREmoSEYdYBFSBlWppZl4AVlsRE3RDE55bCAACZpuuQxJmRmMOuFGRW0djD79ED2NIY6TGCmNJY4zGQhBjStPTFBXb21DY1VsGFtzbF9gAzlsFGOQVGefIW2LtGhvYwVgDD+0V17+6Y6BwaNfBwy9YY2YBcMAPnStTY1B9YMdNiyZOngCFGuIBxDZAiRY1eoTvE6UoDEIAGrNSUoNBUuzAaYlljxo2M+HIeXiJpRsRNMaq+JSFCpsRJEqYOPH2JQgAIfkEAAoABgAsAAAAAB8AHwAABv9AgHBIFAwIBQPAUCAMBMSodHhAJK5XAPaKOEynCsIWqx0nCIrvcMEwZ90JxkINaMATZXfjywjlzX9jdXNEHiAVFX8ODwoQABAKDw5bZQxpQh8YiIhaERJqEhF4WwRDDpubAJdqaWZeAByoFR0edEMTolsIAA+yFUq2QxJmAgmyGhvBRJNbA5qoGcpED2MEFrIX0kMKYwUUslDaj2PA4soGY47iEOQFY6vS3FtNYw/m1KQDYw7mzFhPZj5JGzYGipUtESYowzVmF4ADgOCBCZTgFQAxZBJ4AiXqT6ltbUZhWdToUSR/Ii1FWbDnDkUyDQhJsQPn5ZU9atjUhCPHVhgTNy/RSKsiqKFFbUaQKGHiJNyXIAAh+QQACgAHACwAAAAAHwAfAAAG/0CAcEh8JDAWCsBQIAwExKhU+HFwKlgsIMHlIg7TqQeTLW+7XYIiPGSAymY0mrFgA0LwuLzbCC/6eVlnewkADXVECgxcAGUaGRdQEAoPDmhnDGtDBJcVHQYbYRIRhWgEQwd7AB52AGt7YAAIchETrUITpGgIAAJ7ErdDEnsCA3IOwUSWaAOcaA/JQ0amBXKa0QpyBQZyENFCEHIG39HcaN7f4WhM1uTZaE1y0N/TacZoyN/LXU+/0cNyoMxCUytYLjm8AKSS46rVKzmxADhjlCACMFGkBiU4NUQRxS4OHijwNqnSJS6ZovzRyJAQo0NhGrgs5bIPmwWLCLHsQsfhxBWTe9QkOzCwC8sv5Ho127akyRM7QQAAOwAAAAAAAAAAAA==\"","export const FETCH_PLAYLISTS_LOADING = 'FETCH_PLAYLISTS_LOADING';\nexport const FETCH_PLAYLISTS_SUCCESS = 'FETCH_PLAYLISTS_SUCCESS';\nexport const FETCH_PLAYLISTS_FAILURE = 'FETCH_PLAYLISTS_FAILURE';\n\nexport const PLAYLIST_CHOSEN_TRACK_INFO_LOADING = 'PLAYLIST_CHOSEN_TRACK_INFO_LOADING';\nexport const FETCH_TRACKS_INFO_SUCCESS = 'FETCH_TRACKS_INFO_SUCCESS';\nexport const FETCH_TRACKS_INFO_FAILURE = 'FETCH_TRACKS_INFO_FAILURE';\nexport const FETCH_COLLABORATOR_INFO_SUCCESS = 'FETCH_COLLABORATOR_INFO_SUCCESS';\nexport const FETCH_COLLABORATOR_INFO_FAILURE = 'FETCH_COLLABORATOR_INFO_FAILURE';\nexport const FETCH_COLLABORATOR_AF_AWARDS_SUCCESS = 'FETCH_COLLABORATOR_AF_AWARDS_SUCCESS';\nexport const FETCH_COLLABORATOR_AF_AWARDS_FAILURE = 'FETCH_COLLABORATOR_AF_AWARDS_FAILURE';","class Score {\n  constructor(scoreSet) {\n    if(scoreSet === undefined) {\n      this.duration = 0;\n      this.popularity = 0;\n      this.acousticness = 0;\n      this.danceability = 0;\n      this.energy = 0;\n      this.tempo = 0;\n      this.positivity = 0;\n      this.speechiness = 0;\n      this.loudness = 0;\n      this.instrumentalness = 0;\n    }\n    else {\n      this.duration = scoreSet.duration;\n      this.popularity = scoreSet.popularity;\n      this.acousticness = scoreSet.acousticness;\n      this.danceability = scoreSet.danceability;\n      this.energy = scoreSet.energy;\n      this.tempo = scoreSet.tempo;\n      this.positivity = scoreSet.positivity;\n      this.speechiness = scoreSet.speechiness;\n      this.loudness = scoreSet.loudness;\n      this.instrumentalness = scoreSet.instrumentalness;\n    }\n  }\n  increaseDuration(duration) {\n    this.duration += duration;\n  }\n  increasePopularity(popularity) {\n    this.popularity += popularity;\n  }\n  increaseAcousticness(acousticness) {\n    this.acousticness += acousticness;\n  }\n  increaseDanceability(danceability) {\n    this.danceability += danceability;\n  }\n  increaseEnergy(energy) {\n    this.energy += energy;\n  }\n  increaseTempo(tempo) {\n    this.tempo += tempo;\n  }\n  increasePositivity(positivity) {\n    this.positivity += positivity;\n  }\n  increaseSpeechiness(speechiness) {\n    this.speechiness += speechiness;\n  }\n  increaseLoudness(loudness) {\n    this.loudness += loudness;\n  }\n  increaseInstrumentalness(instrumentalness) {\n    this.instrumentalness += instrumentalness;\n  }\n\n  getAverages(n) {\n    return {\n      popularity: this.popularity/n,\n      acousticness: this.acousticness/n,\n      danceability: this.danceability/n,\n      energy: this.energy/n,\n      tempo: this.tempo/n,\n      positivity: this.positivity/n,\n      speechiness: this.speechiness/n,\n      loudness: this.loudness/n,\n      instrumentalness: this.instrumentalness/n,\n      duration: this.duration/n\n    };\n  }\n}\n\nexport default Score;","export const awards = {\n  duration: {\n    icon: 'clock outline',\n    text: 'Longest avg song length',\n    id: '',\n    val: 0\n  },\n  popularity: {\n    icon: 'group',\n    text: 'Most popular songs',\n    id: '',\n    val: 0\n  },\n  acousticness: {\n    icon: 'battery zero',\n    text: 'Loves acoustic songs',\n    id: '',\n    val: 0\n  },\n  danceability: {\n    icon: 'child',\n    text: 'Enjoys dancing music',\n    id: '',\n    val: 0\n  },\n  energy: {\n    icon: 'bolt',\n    text: 'High energy songs',\n    id: '',\n    val: 0\n  },\n  tempo: {\n    icon: 'fire',\n    text: 'Fastest tempo songs',\n    id: '',\n    val: 0\n  },\n  positivity: {\n    icon: 'plus square',\n    text: 'Most positive vibes',\n    id: '',\n    val: 0\n  },\n  speechiness: {\n    icon: 'talk',\n    text: 'Enjoys spoken words',\n    id: '',\n    val: 0\n  },\n  loudness: {\n    icon: 'volume up',\n    text: 'Turns it up to 11',\n    id: '',\n    val: 0\n  },\n  instrumentalness: {\n    icon: 'wrench',\n    text: 'Enjoys real instruments',\n    id: '',\n    val: 0\n  }\n};\n\nconst maxAmountOfAwards = 3;\n\nexport class PersonalAwards {\n  constructor(awardList=[]) {\n    if (awardList.length > maxAmountOfAwards)\n      this.awardList = awardList.slice(0, maxAmountOfAwards);\n    else\n      this.awardList = awardList;\n  }\n\n  addAward(award){\n    if (this.awardList.length > maxAmountOfAwards || !award.id)\n      return false;\n    this.awardList.push(award);\n    return true;\n  }\n}\n","import fetch from \"node-fetch\";\nimport Score from './Score'\nimport { awards, PersonalAwards } from './PersonalAwards'\n\nlet trackIdToCollabId = {};\nlet collabIdToCollabObj = {};\n\nexport class Collaborator {\n  constructor(id, trackIds=[]){\n    this.id = id;\n    collabIdToCollabObj[id] = this;\n    this.trackIds = trackIds;\n    this.img = null;\n    this.name = null;\n    this.score = new Score();\n    this.awards = new PersonalAwards();\n  }\n\n  addTrackId(trackId) {\n    this.trackIds.push(trackId);\n    trackIdToCollabId[trackId] = this.id;\n  }\n  setImage(img) {\n    this.img = img;\n  }\n  setName(name) {\n    this.name = name;\n  }\n  getNumTracks() {\n    return this.trackIds.length;\n  }\n}\n\nfunction collectCollabNameAndImg(collabData) {\n  collabIdToCollabObj[collabData.id].setImage(collabData.images[0].url);\n  collabIdToCollabObj[collabData.id].setName(collabData.display_name);\n}\n\nfunction collectAllUsersAFScores(audioFeaturesArray) {\n  let currentCollaborator;\n  audioFeaturesArray.forEach((audioFeature) => {\n    currentCollaborator = collabIdToCollabObj[trackIdToCollabId[audioFeature.id]];\n    currentCollaborator.score.increaseAcousticness(audioFeature.acousticness);\n    currentCollaborator.score.increaseDanceability(audioFeature.danceability);\n    currentCollaborator.score.increaseEnergy(audioFeature.energy);\n    currentCollaborator.score.increaseInstrumentalness(audioFeature.instrumentalness);\n    currentCollaborator.score.increaseLoudness(audioFeature.loudness);\n    currentCollaborator.score.increaseTempo(audioFeature.tempo);\n    currentCollaborator.score.increasePositivity(audioFeature.valence);\n    currentCollaborator.score.increaseSpeechiness(audioFeature.speechiness);\n  });\n}\n\nfunction chooseEachCollabsAwards() {\n  let collaborator, n, averages;\n  for (let collaboratorID in collabIdToCollabObj) {\n    collaborator = collabIdToCollabObj[collaboratorID];\n    n = collaborator.getNumTracks();\n    averages = collaborator.score.getAverages(n);\n\n    let averageAF, currentAward;\n    for (let average in averages) {\n      averageAF = averages[average];\n      currentAward = awards[average];\n      if (averageAF > currentAward.val) {\n        currentAward.id = collaboratorID;\n        currentAward.val = averageAF;\n      }\n    }\n  }\n  for (let award in awards) {\n    if (collabIdToCollabObj[awards[award].id])\n      collabIdToCollabObj[awards[award].id].awards.addAward(awards[award]);\n  }\n\n  return awards;\n}\n\nexport function generateCollaboratorObjects(tracks) {\n  let collaborators = {}, currentCollaboratorId;\n  tracks.forEach((track) => {\n    currentCollaboratorId = track.added_by.id;\n\n    if (!collaborators[currentCollaboratorId])\n      collaborators[currentCollaboratorId] = new Collaborator(currentCollaboratorId);\n\n    collaborators[currentCollaboratorId].addTrackId(track.track.id);\n    collaborators[currentCollaboratorId].score.increasePopularity(track.track.popularity);\n    collaborators[currentCollaboratorId].score.increaseDuration(track.track.duration_ms);\n  });\n\n  return collaborators;\n}\n\nexport function getCollaboratorData(token) {\n  let promises = [];\n  for (let collaboratorID in collabIdToCollabObj) {\n    promises.push(fetch('https://api.spotify.com/v1/users/' + collaboratorID, {\n      method: 'GET',\n      headers: {'Authorization': 'Bearer ' + token}\n    }));\n  }\n\n  return Promise.all(promises)\n    .then(res => {\n      let promises = [];\n      res.forEach(data => {\n        promises.push(data.json());\n      });\n      return Promise.all(promises)\n        .then(res => {\n          res.forEach(collabData => {\n            collectCollabNameAndImg(collabData);\n          })\n        });\n    })\n    .then(() => {\n      return collabIdToCollabObj;\n    });\n}\n\nexport function getCollabAwards(token) {\n  //TODO:  to support having collaborators having more than 100 songs I need\n  // to loop through collaborator.trackIds one hundred at a time (since thats the max)\n  // per request..\n  let promises = [], stringTrackIds;\n\n  for (let collaboratorID in collabIdToCollabObj) {\n    stringTrackIds = collabIdToCollabObj[collaboratorID].trackIds.join();\n    promises.push(fetch('https://api.spotify.com/v1/audio-features/?ids=' + stringTrackIds, {\n      method: 'GET',\n      headers: {'Authorization': 'Bearer ' + token}\n    }));\n  }\n\n  return Promise.all(promises)\n    .then(res=>{\n      let promises = [];\n      console.log(collabIdToCollabObj);\n      res.forEach((audioFeature) => {\n        promises.push(audioFeature.json());\n      });\n\n      return Promise.all(promises)\n        .then(res => {\n          res.forEach((audioFeatures) => {\n            collectAllUsersAFScores(audioFeatures.audio_features);\n          });\n        });\n    })\n    .then(()=>{\n      // Choose the awards\n      chooseEachCollabsAwards();\n      return collabIdToCollabObj;\n    })\n}","import {\n  FETCH_PLAYLISTS_LOADING,\n  FETCH_PLAYLISTS_SUCCESS,\n  FETCH_PLAYLISTS_FAILURE,\n  PLAYLIST_CHOSEN_TRACK_INFO_LOADING,\n  FETCH_TRACKS_INFO_FAILURE,\n  FETCH_TRACKS_INFO_SUCCESS,\n  FETCH_COLLABORATOR_INFO_SUCCESS,\n  FETCH_COLLABORATOR_INFO_FAILURE,\n  FETCH_COLLABORATOR_AF_AWARDS_SUCCESS,\n  FETCH_COLLABORATOR_AF_AWARDS_FAILURE } from './types';\nimport { generateCollaboratorObjects, getCollaboratorData, getCollabAwards } from '../spotify/Collaborator';\nimport fetch from \"node-fetch\";\n\n/* fetchPlaylists is a function that takes in */\n/* spotify token and returns an async function  */\n/*  that is sent as a prop to the component     */\nexport function fetchPlaylists(token) {\n  return (dispatch) => {\n    dispatch({\n      type: FETCH_PLAYLISTS_LOADING\n    });\n    fetch('https://api.spotify.com/v1/me/playlists', {\n      method: 'GET',\n      headers: {'Authorization': 'Bearer ' + token}\n    })\n      .then(res => res.json())\n      .then(playlists => {\n        dispatch({\n          type: FETCH_PLAYLISTS_SUCCESS,\n          payload: playlists\n        });\n      })\n      .catch(error => dispatch({\n        type: FETCH_PLAYLISTS_FAILURE,\n        payload: error\n      }));\n  }\n}\n\nexport function fetchPlaylistInfo(token, playlistInfo) {\n  return (dispatch) => {\n    dispatch({\n      type: PLAYLIST_CHOSEN_TRACK_INFO_LOADING,\n      payload: playlistInfo\n    });\n    fetchPlaylistTracksInfo(token, playlistInfo.tracks.href, dispatch)\n      .then(tracks => generateCollaboratorObjects(tracks))\n      .then(collaborators => {\n        dispatch({\n          type: FETCH_TRACKS_INFO_SUCCESS,\n          payload: collaborators\n        });\n        return collaborators;\n      })\n      .then(collaborators => {\n        createCollabCards(token, dispatch, collaborators);\n      });\n  }\n}\n\nasync function fetchPlaylistTracksInfo(token, tracksLink, dispatch) {\n  let hasNext = true, tracks=[];\n\n  while (hasNext) {\n    hasNext = await fetch(tracksLink, {\n      method: 'GET',\n      headers: {'Authorization': 'Bearer ' + token}\n    })\n      .then(res => res.json())\n      .then(data => {\n        tracks = tracks.concat(data.items);\n        tracksLink = data.next;\n        return !!tracksLink;\n      })\n      .catch(err => dispatch({\n        type: FETCH_TRACKS_INFO_FAILURE,\n        payload: err\n      }));\n  }\n  return tracks;\n}\n\nfunction createCollabCards(token, dispatch) {\n  getCollaboratorData(token)\n    .then(collabData => {\n      dispatch({\n        type: FETCH_COLLABORATOR_INFO_SUCCESS,\n        payload: collabData\n      });\n    })\n    .catch(err => {\n      dispatch({\n        type: FETCH_COLLABORATOR_INFO_FAILURE,\n        payload: err\n      })\n    });\n  getCollabAwards(token)\n    .then(collabData => {\n      console.log(\"gotcollabawards: \", collabData);\n      dispatch({\n        type: FETCH_COLLABORATOR_AF_AWARDS_SUCCESS,\n        payload: collabData\n      });\n    })\n    .catch(err => dispatch({\n      type: FETCH_COLLABORATOR_AF_AWARDS_FAILURE,\n      payload: err\n    }));\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchPlaylists, fetchPlaylistInfo } from '../actions/spotifyActions'\n\nimport { Grid, Menu, Image } from 'semantic-ui-react'\nimport loading_gif from '../img/loading.gif'\n\nclass PlaylistPicker extends Component {\n  constructor(props) {\n    super(props);\n    this.props.fetchPlaylists(this.props.token);\n  }\n\n  handleClick(e, playlistInfo) {\n    this.props.choosePlaylist(this.props.token, playlistInfo);\n  }\n\n  extractCollabPlaylists(data) {\n    if (data && data.items) {\n      let menuItems = [], playlists = data.items;\n      for (let i = 0; i < playlists.length; i++) {\n        if (playlists[i].collaborative)\n          menuItems.push(<Menu.Item onClick={(e) => this.handleClick(e, playlists[i])} key={i} as='a' name={playlists[i].name} id={playlists[i].id}>{playlists[i].name}</Menu.Item>);\n      }\n      return menuItems;\n    }\n    return data;\n  }\n\n  render() {\n    console.log(\"RENDERING PlaylistPicker\");\n\n    let menuItems = this.extractCollabPlaylists(this.props.playlists);\n    let loadingSpinner = this.props.loading && <Image src={loading_gif} centered/>;\n\n    return (!this.props.playlistChosen &&\n      <Grid centered columns={3}>\n        <Grid.Column>\n          <Menu inverted fluid vertical>\n            <Menu.Item header>Collaborative Playlists</Menu.Item>\n            {menuItems}\n          </Menu>\n          {loadingSpinner}\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  playlists: state.playlists.playlists,\n  loading: state.playlists.loading,\n  error: state.playlists.error,\n  playlistChosen: state.playlistInfo.playlistChosen\n});\n\nexport default connect(mapStateToProps, { fetchPlaylists, choosePlaylist: fetchPlaylistInfo })(PlaylistPicker);","import React, { Component } from 'react';\nimport { Card, Segment, Image, Icon } from 'semantic-ui-react'\n\nclass CollabCard extends Component {\n  render() {\n    const awardsArray = this.props.awards;\n    let awards = [];\n    for (let i = 0; i <awardsArray.length; i++) {\n      awards.push(<p key={awardsArray[i].icon}>\n                    <Icon name={awardsArray[i].icon} size='small'/>\n                    <span>{awardsArray[i].text}</span>\n                  </p>)\n    }\n\n    return (\n      <Card id=\"\">\n        <Segment style={{marginBottom: 0}} basic>\n          <Image width='200' height='200' circular src={this.props.img} wrapped/>\n        </Segment>\n        <Card.Content>\n          <Card.Header>{ this.props.name }</Card.Header>\n          <Card.Meta> Added { this.props.numTracksAdded } tracks </Card.Meta>\n          <Card.Description>\n            { awards }\n          </Card.Description>\n        </Card.Content>\n      </Card>\n    );\n  }\n}\n\nexport default CollabCard;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { CardGroup } from 'semantic-ui-react'\nimport CollabCard from './CollabCard';\n\nconst defaultAvatar = 'https://upload.wikimedia.org/wikipedia/commons/9/93/Default_profile_picture_%28male%29_on_Facebook.jpg';\n\nclass CollabCardsFrame extends Component {\n\n  createCards() {\n    let cards = [];\n    if (!this.props.loading) {\n      const collaborators = this.props.collaborators,\n        collabInfoLoaded = this.props.collabInfoLoaded,\n        collabAwardsLoaded = this.props.collabAwardsLoaded;\n      let currentCollaborator, img, name, awards;\n      for (let i in collaborators) {\n        currentCollaborator = collaborators[i];\n        img = collabInfoLoaded ? currentCollaborator.img : defaultAvatar;\n        name = collabInfoLoaded ? currentCollaborator.name : 'Unknown User';\n        awards = collabAwardsLoaded ? currentCollaborator.awards.awardList : [];\n        cards.push(<CollabCard key={i} numTracksAdded={currentCollaborator.getNumTracks()}\n                               img={img} name={name} awards={awards}/>);\n      }\n    }\n    return cards;\n  }\n\n  render() {\n    const cards = this.createCards();\n    const collaborators = this.props.collaborators;\n    console.log(\"rEnDeRiNg CollabCardsFrame\");\n    console.log(collaborators);\n\n    const maxPerRow = 5;\n    const numCardsPerRow = Object.keys(collaborators).length % (maxPerRow+1);\n\n    return (\n      <CardGroup itemsPerRow={numCardsPerRow > 0 ? numCardsPerRow : 1}>\n        { cards }\n      </CardGroup>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  collaborators: state.playlistInfo.collaborators,\n  loading: state.playlistInfo.loading,\n  error: state.playlistInfo.error,\n  collabInfoLoaded: state.playlistInfo.collabInfoLoaded,\n  collabAwardsLoaded: state.playlistInfo.collabAwardsLoaded\n});\n\nexport default connect(mapStateToProps, {}) (CollabCardsFrame);","import { FETCH_PLAYLISTS_LOADING,\n         FETCH_PLAYLISTS_SUCCESS,\n         FETCH_PLAYLISTS_FAILURE } from \"../actions/types\";\n\nconst initialState = {\n  playlists: [],\n  loading: false,\n  error: null\n};\n\nexport default function(state=initialState, action) {\n  switch(action.type) {\n    case FETCH_PLAYLISTS_LOADING:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case FETCH_PLAYLISTS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        playlists: action.payload\n      };\n    case FETCH_PLAYLISTS_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n        playlists: []\n      };\n    default:\n      return state;\n  }\n}","import {\n  PLAYLIST_CHOSEN_TRACK_INFO_LOADING,\n  FETCH_TRACKS_INFO_SUCCESS,\n  FETCH_TRACKS_INFO_FAILURE,\n  FETCH_COLLABORATOR_INFO_SUCCESS,\n  FETCH_COLLABORATOR_AF_AWARDS_SUCCESS } from '../actions/types';\n\nconst initialState = {\n  collaborators: {},\n  loading: false,\n  error: null,\n  playlistChosen: false,\n  collabInfoLoaded: false,\n  collabAwardsLoaded: false\n};\n\nexport default function(state=initialState, action) {\n  switch(action.type) {\n    case PLAYLIST_CHOSEN_TRACK_INFO_LOADING:\n      return {\n        ...state,\n        playlistChosen: true,\n        loading: true,\n        error: null\n      };\n    case FETCH_TRACKS_INFO_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        collaborators: action.payload\n      };\n    case FETCH_TRACKS_INFO_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n        collaborators: {}\n      };\n    case FETCH_COLLABORATOR_INFO_SUCCESS:\n      return {\n        ...state,\n        collaborators: action.payload,\n        collabInfoLoaded: true\n      };\n    case FETCH_COLLABORATOR_AF_AWARDS_SUCCESS:\n      return {\n        ...state,\n        collaborators: action.payload,\n        collabAwardsLoaded: true\n      };\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport playlistPickerReducer from './playlistPickerReducer';\nimport collabCardReducer from './collabCardReducer';\n\nexport default combineReducers({\n  playlists: playlistPickerReducer,\n  playlistInfo: collabCardReducer\n});","import { createStore,applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers'\n\n\nconst initialState = {};\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware)\n  )\n);\n\nexport default store;","import React, { Component } from 'react';\nimport { Container, Header, Divider } from 'semantic-ui-react'\nimport PlaylistPicker from './components/PlaylistPicker'\nimport CollabCardsFrame from './components/CollabCardsFrame';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nclass PlaylistAnalyzerApp extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Container>\n          <br/>\n          <Header textAlign=\"center\" as=\"h1\">\n            Spotify Collaborative Playlist Analyzer\n          </Header>\n          <PlaylistPicker token={ this.props.token } />\n          <CollabCardsFrame token={ this.props.token }>\n            {/*<Card/>*/}\n          </CollabCardsFrame>\n          <br/>\n          <Divider />\n        </Container>\n      </Provider>\n    );\n  }\n}\n\nexport default PlaylistAnalyzerApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport PlaylistAnalyzerApp from './PlaylistAnalyzerApp';\nimport * as serviceWorker from './serviceWorker';\n\nconst hash = window.location.hash.substr(1);\nconst result = hash.split('&').reduce(function (result, item) {\n  const parts = item.split('=');\n  result[parts[0]] = parts[1];\n  return result;\n}, {});\n\nif (!(result && result.access_token)) {\n  const clientID = \"9e240701125547c69d71dce42a0c120b\";\n  const response_type = \"token\";\n  const redirect_uri = window.location.href; //TODO\n  const scope = \"playlist-read-private playlist-read-collaborative\";\n\n  let spotifyURI = \"https://accounts.spotify.com/authorize?\"\n    + \"client_id=\" + clientID + \"&response_type=\" + response_type\n    + \"&redirect_uri=\" + redirect_uri + \"&scope=\" + scope;\n\n  window.location.replace(encodeURI(spotifyURI));\n} else {\n  ReactDOM.render(<PlaylistAnalyzerApp token={result.access_token} />,\n    document.getElementById('root'));\n  serviceWorker.unregister();\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}