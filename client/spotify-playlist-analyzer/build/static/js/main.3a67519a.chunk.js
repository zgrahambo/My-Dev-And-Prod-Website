(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t){e.exports="data:image/gif;base64,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"},126:function(e,t,a){e.exports={appHeader:"AnalyzerHeader_appHeader__3FSiF",chooseDiffPlaylist:"AnalyzerHeader_chooseDiffPlaylist__1SpoA"}},130:function(e,t,a){e.exports={center_img:"CollabCard_center_img__1PCWs",card_border:"CollabCard_card_border__13cpr"}},181:function(e,t,a){e.exports={container:"PlaylistAnalyzerApp_container__3o0wk"}},194:function(e,t,a){e.exports={"error-link":"Error_error-link__2svLa"}},195:function(e,t,a){e.exports=a.p+"static/media/defaultProfilePic.7ebfc7c0.png"},210:function(e,t,a){e.exports=a(498)},498:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),i=a.n(o),s=(a(215),a(16)),l=a(17),c=a(21),A=a(20),u=a(22),d=a(503),h=window.location,p=h.protocol+"//",y=p+h.hostname,m=p+h.host+h.pathname,f=a(181),b=a.n(f),g=a(24),v=a(505),E=a(508),C=a(504),k=a(123),w=a(506),O=a(126),j=a.n(O),I=a(127),B=a.n(I),T=a(199),Q=a(183),R="FETCH_PLAYLISTS_LOADING",D="FETCH_PLAYLISTS_SUCCESS",S="FETCH_PLAYLISTS_FAILURE",F="PLAYLIST_CHOSEN_TRACK_INFO_LOADING",L="FETCH_TRACKS_INFO_SUCCESS",x="FETCH_TRACKS_INFO_FAILURE",M="FETCH_COLLABORATOR_INFO_SUCCESS",N="FETCH_COLLABORATOR_INFO_FAILURE",U="FETCH_COLLABORATOR_AF_AWARDS_SUCCESS",G="FETCH_COLLABORATOR_AF_AWARDS_FAILURE",H="ACTIVATE_COLLABORATORS",Y="TOGGLE_COLLABORATOR_CARD",Z=a(47),P=a.n(Z),_=function(){function e(t){Object(s.a)(this,e),void 0===t?(this.numTracks=0,this.duration=0,this.popularity=0,this.acousticness=0,this.danceability=0,this.energy=0,this.tempo=0,this.positivity=0,this.speechiness=0,this.loudness=0,this.instrumentalness=0):(this.duration=t.duration,this.popularity=t.popularity,this.acousticness=t.acousticness,this.danceability=t.danceability,this.energy=t.energy,this.tempo=t.tempo,this.positivity=t.positivity,this.speechiness=t.speechiness,this.loudness=t.loudness,this.instrumentalness=t.instrumentalness)}return Object(l.a)(e,[{key:"increaseNumTracks",value:function(){this.numTracks+=1}},{key:"increaseDuration",value:function(e){this.duration+=e}},{key:"increasePopularity",value:function(e){this.popularity+=e}},{key:"increaseAcousticness",value:function(e){this.acousticness+=e}},{key:"increaseDanceability",value:function(e){this.danceability+=e}},{key:"increaseEnergy",value:function(e){this.energy+=e}},{key:"increaseTempo",value:function(e){this.tempo+=e}},{key:"increasePositivity",value:function(e){this.positivity+=e}},{key:"increaseSpeechiness",value:function(e){this.speechiness+=e}},{key:"increaseLoudness",value:function(e){this.loudness+=e}},{key:"increaseInstrumentalness",value:function(e){this.instrumentalness+=e}},{key:"getAverages",value:function(){var e=this.numTracks;return{popularity:this.popularity/e,acousticness:this.acousticness/e,danceability:this.danceability/e,energy:this.energy/e,tempo:this.tempo/e,positivity:this.positivity/e,speechiness:this.speechiness/e,loudness:this.loudness/e,instrumentalness:this.instrumentalness/e,duration:this.duration/e}}}]),e}(),J={duration:{icon:"clock outline",text:"Longest avg song length",id:"",val:0},popularity:{icon:"group",text:"Most popular songs",id:"",val:0},acousticness:{icon:"battery zero",text:"Loves acoustic songs",id:"",val:0},danceability:{icon:"child",text:"Enjoys dancing music",id:"",val:0},energy:{icon:"bolt",text:"High energy songs",id:"",val:0},tempo:{icon:"fire",text:"Fastest tempo songs",id:"",val:0},positivity:{icon:"plus square",text:"Most positive vibes",id:"",val:0},speechiness:{icon:"talk",text:"Enjoys spoken words",id:"",val:0},loudness:{icon:"volume up",text:"Turns it up to 11",id:"",val:0},instrumentalness:{icon:"wrench",text:"Enjoys real instruments",id:"",val:0}},K=3,W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(s.a)(this,e),t.length>K?this.awardList=t.slice(0,K):this.awardList=t}return Object(l.a)(e,[{key:"addAward",value:function(e){return!(this.awardList.length>K||!e.id)&&(this.awardList.push(e),!0)}}]),e}(),V={},q={},z=[],X=["red","blue","yellow","green","orange","purple","hotpink","aqua"],$=["rgb(255, 0, 0, 0.2)","rgb(0, 0, 255, 0.2)","rgb(255, 255, 0, 0.2)","rgb(0, 128, 0, 0.2)","rgb(255, 165, 0, 0.2)","rgb(128, 0, 128, 0.2)","rgb(255, 105, 180, 0.2)","rgb(0, 255, 255, 0.2)"],ee=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(s.a)(this,e),this.id=t,z.push(t),q[t]=this,this.trackIds=a,this.img=null,this.name=null,this.primaryColor=X.shift(),this.secondaryColor=$.shift(),this.score=new _,this.awards=new W}return Object(l.a)(e,[{key:"addTrackId",value:function(e){this.trackIds.push(e),V[e]=this.id,this.score.increaseNumTracks()}},{key:"setImage",value:function(e){this.img=e}},{key:"setName",value:function(e){this.name=e}},{key:"getNumTracks",value:function(){return this.trackIds.length}}]),e}();function te(e){var t=[];for(var a in q)t.push(P()("https://api.spotify.com/v1/users/"+a,{method:"GET",headers:{Authorization:"Bearer "+e}}));return Promise.all(t).then(function(e){var t=[];return e.forEach(function(e){t.push(e.json())}),Promise.all(t).then(function(e){e.forEach(function(e){!function(e){q[e.id].setImage(e.images[0].url),q[e.id].setName(e.display_name)}(e)})})}).then(function(){return q})}function ae(e){return function(t){t({type:R}),P()("https://api.spotify.com/v1/me/playlists",{method:"GET",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){t({type:D,payload:e})}).catch(function(e){return t({type:S,payload:{msg:"Something went wrong with the connection to the Spotify API",linkText:"Try with new token!"}})})}}function ne(e,t){return function(a){a({type:F,payload:t.name}),function(e,t,a){return re.apply(this,arguments)}(e,t.tracks.href,a).then(function(e){return function(e){var t,a={};return e.forEach(function(e){t=e.added_by.id,a[t]||(a[t]=new ee(t)),a[t].addTrackId(e.track.id),a[t].score.increasePopularity(e.track.popularity),a[t].score.increaseDuration(e.track.duration_ms)}),{collaborators:a,order:z}}(e)}).then(function(e){var t=e.collaborators;return a({type:L,payload:{collaborators:t,order:e.order}}),a({type:H,payload:Object.keys(t).reduce(function(e,t){return e[t]=!0,e},{})}),t}).then(function(t){!function(e,t){te(e).then(function(e){t({type:M,payload:e})}).catch(function(e){t({type:N,payload:e})}),function(e){var t,a,n,r=[];for(var o in q){n=q[o].trackIds,a=Math.ceil(n.length/100);for(var i=0;i<a;i++)t=n.slice(0,100).join(),r.push(P()("https://api.spotify.com/v1/audio-features/?ids="+t,{method:"GET",headers:{Authorization:"Bearer "+e}}))}return Promise.all(r)}(e).then(function(e){var t=[];return e.forEach(function(e){t.push(e.json())}),Promise.all(t)}).then(function(e){e.forEach(function(e){!function(e){var t;e.forEach(function(e){(t=q[V[e.id]]).score.increaseAcousticness(e.acousticness),t.score.increaseDanceability(e.danceability),t.score.increaseEnergy(e.energy),t.score.increaseInstrumentalness(e.instrumentalness),t.score.increaseLoudness(e.loudness),t.score.increaseTempo(e.tempo),t.score.increasePositivity(e.valence),t.score.increaseSpeechiness(e.speechiness)})}(e.audio_features)})}).then(function(){return function(){var e,t,a;for(var n in q){t=(e=q[n]).getNumTracks(),a=e.score.getAverages(t);var r=void 0,o=void 0;for(var i in a)(r=a[i])>(o=J[i]).val&&(o.id=n,o.val=r)}for(var s in J)q[J[s].id]&&q[J[s].id].awards.addAward(J[s])}(),q}).then(function(e){t({type:U,payload:e})}).catch(function(e){return t({type:G,payload:e})})}(e,a)})}}function re(){return(re=Object(Q.a)(B.a.mark(function e(t,a,n){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[];case 1:if(!a){e.next=7;break}return e.next=4,P()(a,{method:"GET",headers:{Authorization:"Bearer "+t}}).then(function(e){return e.json()}).then(function(e){return r.push.apply(r,Object(T.a)(e.items)),e.next}).catch(function(e){return n({type:x,payload:e})});case 4:a=e.sent,e.next=1;break;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var oe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e,t){}},{key:"render",value:function(){return r.a.createElement(v.a,{className:j.a.appHeader,fluid:!0},r.a.createElement(v.a.Item,null,r.a.createElement(E.a,{as:"h1"},this.props.children)),r.a.createElement(v.a.Menu,{position:"right"},r.a.createElement(v.a.Item,null,r.a.createElement(C.a,{animated:"fly left",className:j.a.chooseDiffPlaylist},r.a.createElement(C.a.Content,{visible:!0},"Choose a Different Playlist"),r.a.createElement(C.a.Content,{hidden:!0},r.a.createElement(k.a,{name:"arrow left"})))),r.a.createElement(v.a.Item,null,r.a.createElement(w.a.Column,{width:3},r.a.createElement(C.a,{href:y},"Homepage")))))}}]),t}(n.Component),ie=Object(g.b)(null,{fetchPlaylists:ae,choosePlaylist:ne})(oe),se=a(499),le=a(507),ce=a(194),Ae=a.n(ce),ue=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{centered:!0,columns:2},r.a.createElement(w.a.Column,null,r.a.createElement(le.a,{inverted:!0,color:"red",secondary:!0},this.props.msg,r.a.createElement("p",null,r.a.createElement("a",{className:Ae.a["error-link"],href:this.props.link?this.props.link:m},this.props.linkText)))))}}]),t}(n.Component),de=a(121),he=a.n(de),pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(A.a)(t).call(this,e))).props.fetchPlaylists(a.props.token),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e,t){this.props.choosePlaylist(this.props.token,t)}},{key:"extractCollabPlaylists",value:function(e){var t=this;if(e&&e.items){var a=function(){for(var a=[],n=e.items,o=function(e){n[e].collaborative&&a.push(r.a.createElement(v.a.Item,{onClick:function(a){return t.handleClick(a,n[e])},key:e,as:"a",name:n[e].name,id:n[e].id},n[e].name))},i=0;i<n.length;i++)o(i);return{v:a}}();if("object"===typeof a)return a.v}return e}},{key:"render",value:function(){var e=this.props.error;if(e)return r.a.createElement(ue,{msg:e.msg,link:e.link,linkText:e.linkText});var t=this.extractCollabPlaylists(this.props.playlists),a=this.props.loading&&r.a.createElement(se.a,{src:he.a,centered:!0});return!this.props.playlistChosen&&r.a.createElement("div",null,!this.props.loading&&r.a.createElement(E.a,{textAlign:"center",as:"h2"}," Choose a playlist:"),r.a.createElement(w.a,{centered:!0},r.a.createElement(w.a.Column,{width:10},r.a.createElement(v.a,{inverted:!0,fluid:!0,vertical:!0},r.a.createElement(v.a.Item,{header:!0},"Collaborative Playlists"),t),a)))}}]),t}(n.Component),ye=Object(g.b)(function(e){return{playlists:e.playlists.playlists,loading:e.playlists.loading,error:e.playlists.error,playlistChosen:e.playlistInfo.playlistChosen}},{fetchPlaylists:ae,choosePlaylist:ne})(pe),me=a(358);function fe(e){return function(t){t({type:Y,payload:e})}}var be=a(500),ge=a(130),ve=a.n(ge),Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.toggleActiveCollaborator(a.props.id)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props.awards,t=this.props.color,a=t&&this.props.active?t:"grey",n=[],o=0;o<e.length;o++)n.push(r.a.createElement("p",{key:e[o].icon},r.a.createElement(k.a,{name:e[o].icon,size:"small"}),r.a.createElement("span",null,e[o].text)));return r.a.createElement(be.a,{link:!0,className:ve.a.card_border,style:{borderColor:a},onClick:this.handleClick},r.a.createElement(le.a,{style:{marginBottom:0},basic:!0},r.a.createElement(se.a,{className:ve.a.center_img,style:{borderColor:a},width:"200",height:"200",circular:!0,src:this.props.img,wrapped:!0})),r.a.createElement(be.a.Content,null,r.a.createElement(be.a.Header,null,this.props.name),r.a.createElement(be.a.Meta,null," Added ",this.props.numTracksAdded," tracks "),r.a.createElement(be.a.Description,null,n)))}}]),t}(n.Component),Ce=Object(g.b)(function(e,t){return{active:e.activeCollab.activeCollaborators[t.id]}},{toggleActiveCollaborator:fe})(Ee),ke=a(195),we=a.n(ke),Oe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"createCards",value:function(){var e,t,a,n,o,i=[],s=this.props.collaboratorsModel,l=s.collaborators,c=this.props.collabInfoLoaded,A=this.props.collabAwardsLoaded;return s.order.forEach(function(s){e=l[s],t=c?e.img:we.a,a=c?e.name:"Unknown User",n=c?e.primaryColor:"",o=A?e.awards.awardList:[],i.push(r.a.createElement(Ce,{key:"card"+s,id:s,numTracksAdded:e.getNumTracks(),img:t,name:a,awards:o,color:n}))}),i}},{key:"render",value:function(){if(this.props.error)return r.a.createElement(ue,{msg:this.props.error});if(this.props.loading)return r.a.createElement(se.a,{src:he.a,centered:!0});var e=this.props.playlistName,t=this.createCards();return r.a.createElement("div",null,r.a.createElement(E.a,{textAlign:"center",as:"h2"},e?'Analyzing Playlist: "'+e+'"':""),r.a.createElement(me.a,{centered:!0,itemsPerRow:5},t))}}]),t}(n.Component),je=Object(g.b)(function(e){return{playlistName:e.playlistInfo.playlistName,loading:e.playlistInfo.loading,error:e.playlistInfo.error,collaboratorsModel:e.collabInfo.collaboratorsModel,collabInfoLoaded:e.collabInfo.collabInfoLoaded,collabAwardsLoaded:e.collabInfo.collabAwardsLoaded}},{})(Oe),Ie=a(196),Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(A.a)(t).call(this,e))).legendClickHandler=function(e,t){a.props.toggleActiveCollaborator(a.props.collaboratorsModel.order[t.datasetIndex])},a.getDatasets=function(){var e=a.props.collaboratorsModel,t=e.collaborators,n=[];return e.order.forEach(function(e){var r=t[e],o=r.score.getAverages(),i={label:r.name,data:[o.acousticness,o.danceability,o.energy,o.instrumentalness,o.speechiness,o.positivity],fill:!0,backgroundColor:r.secondaryColor,borderColor:r.primaryColor,pointBackgroundColor:r.primaryColor,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:r.primaryColor,hidden:!a.props.active[e]};n.push(i)}),n},a.labels=["Acousticness","Danceability","Energy","Instrumentalness","Speechiness","Valence"],a.options={scale:{ticks:{beginAtZero:!0,max:1}},legend:{onClick:a.legendClickHandler}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={labels:this.labels,datasets:this.getDatasets()};return this.props.collabAwardsLoaded&&r.a.createElement(w.a,{centered:!0},r.a.createElement(w.a.Column,{width:10},r.a.createElement(Ie.a,{data:e,options:this.options,width:50,height:50})))}}]),t}(n.Component),Te=Object(g.b)(function(e){return{collaboratorsModel:e.collabInfo.collaboratorsModel,collabInfoLoaded:e.collabInfo.collabInfoLoaded,collabAwardsLoaded:e.collabInfo.collabAwardsLoaded,active:e.activeCollab.activeCollaborators}},{toggleActiveCollaborator:fe})(Be),Qe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(A.a)(t).call(this,e))).state={hasError:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(ue,{msg:"Something went wrong!",linkText:"Try again!"}):this.props.children}}]),t}(n.Component),Re=a(43),De=a(198),Se=a(18),Fe={playlists:[],loading:!1,error:null},Le={playlistChosen:!1,playlistName:"",loading:!1,error:null},xe={loading:!1,error:null,collaboratorsModel:{collaborators:{},order:[]},collabInfoLoaded:!1,collabAwardsLoaded:!1},Me={activeCollaborators:{}},Ne=Object(Re.c)({playlists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(Se.a)({},e,{loading:!0});case D:return Object(Se.a)({},e,{loading:!1,playlists:t.payload});case S:return Object(Se.a)({},e,{loading:!1,error:t.payload,playlists:[]});default:return e}},playlistInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(Se.a)({},e,{playlistChosen:!0,playlistName:t.payload,loading:!0});case L:return Object(Se.a)({},e,{loading:!1});case x:return Object(Se.a)({},e,{error:t.payload,loading:!1});default:return e}},collabInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(Se.a)({},e,{collaboratorsModel:{collaborators:Object(Se.a)({},t.payload.collaborators),order:t.payload.order}});case M:return Object(Se.a)({},e,{collaboratorsModel:{collaborators:Object(Se.a)({},t.payload),order:e.collaboratorsModel.order},collabInfoLoaded:!0});case U:return Object(Se.a)({},e,{collaboratorsModel:{collaborators:Object(Se.a)({},t.payload),order:e.collaboratorsModel.order},collabAwardsLoaded:!0});default:return e}},activeCollab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(Se.a)({},e,{activeCollaborators:t.payload});case Y:var a=Object.assign({},e.activeCollaborators);return a[t.payload]=!a[t.payload],Object(Se.a)({},e,{activeCollaborators:Object(Se.a)({},a)});default:return e}}}),Ue=[De.a],Ge=Object(Re.e)(Ne,{},Object(Re.d)(Re.a.apply(void 0,Ue))),He=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"getAccessToken",value:function(){var e=h.hash.substr(1).split("&").reduce(function(e,t){var a=t.split("=");return e[a[0]]=a[1],e},{});return e&&e.access_token}},{key:"sendUserToSpotifyAuthorize",value:function(){var e="https://accounts.spotify.com/authorize?client_id=9e240701125547c69d71dce42a0c120b&response_type=token&redirect_uri="+h.href+"&scope=playlist-read-private playlist-read-collaborative";h.replace(encodeURI(e))}},{key:"render",value:function(){var e=this.getAccessToken();if(e)return r.a.createElement(g.a,{store:Ge},r.a.createElement(ie,null,"Spotify Playlist Analyzer"),r.a.createElement(d.a,{className:b.a.container},r.a.createElement(Qe,null,r.a.createElement(ye,{token:e}),r.a.createElement(je,{token:e}),r.a.createElement(Te,{token:e})),r.a.createElement("br",null)));this.sendUserToSpotifyAuthorize()}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[210,2,1]]]);
//# sourceMappingURL=main.3a67519a.chunk.js.map